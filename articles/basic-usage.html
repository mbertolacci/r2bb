<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Basic Usage of r2bb â€¢ r2bb</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Basic Usage of r2bb">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">r2bb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/basic-usage.html">Basic Usage of r2bb</a></li>
    <li><a class="dropdown-item" href="../articles/question-types.html">Question Types Reference</a></li>
    <li><a class="dropdown-item" href="../articles/ryaml.html">Using RYaml</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Basic Usage of r2bb</h1>
            
      

      <div class="d-none name"><code>basic-usage.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mbertolacci.github.io/r2bb/">r2bb</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>r2bb</code> package provides tools to construct Blackboard
LMS questions, pools, and tests. These can be converted to the XML
format that Blackboard expects for import.</p>
<p>The typical workflow is:</p>
<ol style="list-style-type: decimal">
<li>Build many questions on your computer.</li>
<li>Group them into <a href="https://help.blackboard.com/Learn/Instructor/Tests_Pools_Surveys/Question_Pools" class="external-link">question
pools</a> or <a href="https://help.blackboard.com/Learn/Instructor/Tests_Pools_Surveys/Tests" class="external-link">tests</a>.</li>
<li>Export the pool or test as a Blackboard-ready ZIP file with
<code><a href="../reference/to_bbxml_package.html">to_bbxml_package()</a></code>.</li>
<li>Import that ZIP into Blackboard.</li>
</ol>
<p>It can be thought of as a Blackboard-specific version of the famous
<a href="https://www.r-exams.org/" class="external-link">exams R package</a>.</p>
<p>Because questions and other items can be dynamically generated, you
can use R code to generate the questions and answers, randomise the
data, and so on.</p>
<p>One of the features of the package is to introduce a new format
called RYaml, which is a YAML file with embedded R code. This is really
just an Rmarkdown file in YAML format. This is useful for generating
questions and answers dynamically. You can read more about that later in
the <a href="#ryaml">RYaml section</a>.</p>
</div>
<div class="section level2">
<h2 id="simple-example">Simple example<a class="anchor" aria-label="anchor" href="#simple-example"></a>
</h2>
<p>Here we show how you can:</p>
<ul>
<li>Load a question from a YAML file</li>
<li>Put it in a question pool and output it as a zip file for import
into Blackboard</li>
<li>Create a test that includes the question pool and another
question</li>
<li>Output the test as a zip file for import into Blackboard</li>
</ul>
<div class="section level3">
<h3 id="loading-a-question">Loading a question<a class="anchor" aria-label="anchor" href="#loading-a-question"></a>
</h3>
<p>The package contains a YAML file for a question about the capital of
France, which looks like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Capital of France</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">question_type</span><span class="kw">:</span><span class="at"> multiple_choice</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">question_text</span><span class="kw">:</span><span class="at"> What is the capital of France?</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">max_score</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="fu">feedback</span><span class="kw">:</span><span class="at"> Paris is the capital of France.</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">random_order</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="fu">answers</span><span class="kw">:</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Paris</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> London</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Berlin</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Madrid</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<p>This is a simple multiple choice question with four answers, one of
which is correct. Other question types are possible and are documented
elsewhere. The question can be read in and printed in Markdown format as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">france_yaml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'examples'</span>, <span class="st">'france-question.yaml'</span>, package <span class="op">=</span> <span class="st">'r2bb'</span><span class="op">)</span></span>
<span><span class="va">france_question</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_question.html">read_question</a></span><span class="op">(</span><span class="va">france_yaml</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">france_question</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Capital of France</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Question</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; What is the capital of France?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Answers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - [x] Paris</span></span>
<span><span class="co">#&gt; - [ ] London</span></span>
<span><span class="co">#&gt; - [ ] Berlin</span></span>
<span><span class="co">#&gt; - [ ] Madrid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [x] = correct answer</span></span>
<span><span class="co">#&gt; [p] = partial credit given</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # Feedback</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Paris is the capital of France.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="creating-a-pool">Creating a pool<a class="anchor" aria-label="anchor" href="#creating-a-pool"></a>
</h3>
<p>You can put the question in a pool as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">capitals_pool</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/normalize_pool.html">normalize_pool</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">'Capitals'</span>,</span>
<span>  description <span class="op">=</span> <span class="st">'This pool contains questions about the capitals of countries.'</span>,</span>
<span>  questions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">france_question</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can print this too but we wonâ€™t to save space. To export this
pool as a zip file for import into Blackboard:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_bbxml_package.html">to_bbxml_package</a></span><span class="op">(</span><span class="va">capitals_pool</span>, <span class="st">'capitals-pool.zip'</span><span class="op">)</span></span></code></pre></div>
<p>The file <code>capitals-pool.zip</code> can now be imported into
Blackboard.</p>
</div>
<div class="section level3">
<h3 id="creating-a-test">Creating a test<a class="anchor" aria-label="anchor" href="#creating-a-test"></a>
</h3>
<p>You can create a test that includes the question pool and another
question as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">capitals_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/normalize_test.html">normalize_test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">'Capitals Test'</span>,</span>
<span>  description <span class="op">=</span> <span class="st">'This test contains questions about the capitals of countries.'</span>,</span>
<span>  instructions <span class="op">=</span> <span class="st">'Try to do well!'</span>,</span>
<span>  contents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">'random_block'</span>, pool <span class="op">=</span> <span class="va">capitals_pool</span>, questions_to_display <span class="op">=</span> <span class="fl">1</span>, points_per_question <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">'question'</span>, points <span class="op">=</span> <span class="fl">1</span>, question <span class="op">=</span> <span class="va">france_question</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This can be exported as a zip file for import into Blackboard as
follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_bbxml_package.html">to_bbxml_package</a></span><span class="op">(</span><span class="va">capitals_test</span>, <span class="st">'capitals-test.zip'</span><span class="op">)</span></span></code></pre></div>
<p>The file <code>capitals-test.zip</code> can now be imported into
Blackboard.</p>
</div>
</div>
<div class="section level2">
<h2 id="more-complex-examples">More complex examples<a class="anchor" aria-label="anchor" href="#more-complex-examples"></a>
</h2>
<p>As you can see above, questions can be read in from external files.
They can also be created directly in R code. In general there are three
approaches:</p>
<ol style="list-style-type: decimal">
<li>Direct R code construction</li>
<li>YAML file input</li>
<li>RYaml file input (YAML with embedded R code)</li>
</ol>
<p>Each approach has its advantages depending on your workflow and
needs; we go through examples.</p>
<div class="section level3">
<h3 id="direct-r-code-construction">Direct R Code Construction<a class="anchor" aria-label="anchor" href="#direct-r-code-construction"></a>
</h3>
<p>The most straightforward approach is to construct questions and tests
directly in R code. This is useful when you want to programmatically
generate questions or when youâ€™re comfortable working directly in R.</p>
<p>Hereâ€™s how to create a simple multiple choice question:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">france_question</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/normalize_question.html">normalize_question</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">'Capital of France'</span>,</span>
<span>  question_type <span class="op">=</span> <span class="st">'multiple_choice'</span>,</span>
<span>  question_text <span class="op">=</span> <span class="st">'What is the capital of France?'</span>,</span>
<span>  max_score <span class="op">=</span> <span class="fl">1.0</span>,</span>
<span>  feedback <span class="op">=</span> <span class="st">'Paris is the capital of France.'</span>,</span>
<span>  random_order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  answers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">'Paris'</span>, correct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">'London'</span>, correct <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">'Berlin'</span>, correct <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">'Madrid'</span>, correct <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the question in markdown format</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">france_question</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Capital of France</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Question</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; What is the capital of France?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Answers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - [x] Paris</span></span>
<span><span class="co">#&gt; - [ ] London</span></span>
<span><span class="co">#&gt; - [ ] Berlin</span></span>
<span><span class="co">#&gt; - [ ] Madrid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [x] = correct answer</span></span>
<span><span class="co">#&gt; [p] = partial credit given</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # Feedback</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Paris is the capital of France.</span></span></code></pre></div>
<p>You can see examples of creating a pool and a test earlier.</p>
</div>
<div class="section level3">
<h3 id="yaml-file-input">YAML File Input<a class="anchor" aria-label="anchor" href="#yaml-file-input"></a>
</h3>
<p>For more maintainable and readable question definitions, you can use
YAML files. This approach is particularly useful when you have many
questions to manage.</p>
<p>You can see an example above for reading a question from a YAML file
directly.</p>
<p>You can also define multiple questions in a single YAML file by
separating them with <code>---</code>. Hereâ€™s an example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Capital of France</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">question_type</span><span class="kw">:</span><span class="at"> multiple_choice</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="fu">question_text</span><span class="kw">:</span><span class="at"> What is the capital of France?</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="fu">max_score</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="fu">feedback</span><span class="kw">:</span><span class="at"> Paris is the capital of France.</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="fu">random_order</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="fu">answers</span><span class="kw">:</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Paris</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> London</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Berlin</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Madrid</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Capital of Germany</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="fu">question_type</span><span class="kw">:</span><span class="at"> multiple_choice</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="fu">question_text</span><span class="kw">:</span><span class="at"> What is the capital of Germany?</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="fu">max_score</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.0</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="fu">feedback</span><span class="kw">:</span><span class="at"> Berlin is the capital of Germany.</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="fu">random_order</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="fu">answers</span><span class="kw">:</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Berlin</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Munich</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Hamburg</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Frankfurt</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<p>To read multiple questions from this file:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">capitals_yaml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'examples'</span>, <span class="st">'capitals-question.yaml'</span>, package <span class="op">=</span> <span class="st">'r2bb'</span><span class="op">)</span></span>
<span><span class="va">capitals_questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_question.html">read_question</a></span><span class="op">(</span><span class="va">capitals_yaml</span>, allow_multiple <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">capitals_questions</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; # Capital of France</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Question</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; What is the capital of France?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Answers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - [x] Paris</span></span>
<span><span class="co">#&gt; - [ ] London</span></span>
<span><span class="co">#&gt; - [ ] Berlin</span></span>
<span><span class="co">#&gt; - [ ] Madrid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [x] = correct answer</span></span>
<span><span class="co">#&gt; [p] = partial credit given</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # Feedback</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Paris is the capital of France.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; # Capital of Germany</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Question</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; What is the capital of Germany?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Answers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - [x] Berlin</span></span>
<span><span class="co">#&gt; - [ ] Munich</span></span>
<span><span class="co">#&gt; - [ ] Hamburg</span></span>
<span><span class="co">#&gt; - [ ] Frankfurt</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [x] = correct answer</span></span>
<span><span class="co">#&gt; [p] = partial credit given</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # Feedback</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Berlin is the capital of Germany.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ryaml">RYaml File Input<a class="anchor" aria-label="anchor" href="#ryaml"></a>
</h3>
<p>RYaml files combine the power of R with the readability of YAML. They
allow you to embed R code blocks within your YAML files, which is
particularly useful for generating dynamic content.</p>
<div class="section level4">
<h4 id="basic-ryaml-example">Basic RYaml Example<a class="anchor" aria-label="anchor" href="#basic-ryaml-example"></a>
</h4>
<p>Hereâ€™s an example of a RYaml file for a t-test question:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="at">```{r, data, echo = FALSE}</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="at">x &lt;- c(1, 5, 3, 4, 2)</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="at">y &lt;- c(0, 2, 4, 6, 8)</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="at">```</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="at">```{r, results, echo = FALSE}</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="at">t_result &lt;- t.test(x, y)</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="at">t_stat_str &lt;- sprintf('%.2f', t_result$statistic)</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="at">t_stat_rejected &lt;- t_result$p.value &lt; 0.01</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="at">t_result_single &lt;- t.test(x)</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="at">t_stat_single_str &lt;- sprintf('%.2f', t_result_single$statistic)</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="at">```</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> T-test results</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="fu">question_type</span><span class="kw">:</span><span class="at"> multiple_choice</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="fu">question_text</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>  Suppose you are given the following data:</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>  ```{r}</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>  &lt;&lt;data&gt;&gt;</span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>  ```</span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>  Conduct the t-test for the difference between the means of `x` and `y` at a significant level of $\alpha = 0.01$.</span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>  Select the correct answer.</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a><span class="fu">random_order</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a><span class="fu">answers</span><span class="kw">:</span></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> The t-statistic is `r t_stat_str` and the null hypothesis is not rejected</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> `r t_stat_rejected`</span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> The t-statistic is `r t_stat_str` and the null hypothesis is rejected</span></span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> `r !t_stat_rejected`</span></span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> The t-statistic is `r t_stat_single_str` and the null hypothesis is not rejected</span></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> The t-statistic is `r t_stat_single_str` and the null hypothesis is rejected</span></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a><span class="at">    </span><span class="fu">correct</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<p>Notice the use of the R code block <code>&lt;&lt;data&gt;&gt;</code>
to embed the data in the question; this is a nice feature of Rmarkdown
that RYaml inherits.</p>
<p>To use this RYaml file:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read a question from RYaml</span></span>
<span><span class="va">t_test_ryaml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'examples'</span>, <span class="st">'t-test.Ryaml'</span>, package <span class="op">=</span> <span class="st">'r2bb'</span><span class="op">)</span></span>
<span><span class="va">t_test_question</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_question.html">read_question</a></span><span class="op">(</span><span class="va">t_test_ryaml</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">t_test_question</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; # T-test results</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Question</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Suppose you are given the following data:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ``` r</span></span>
<span><span class="co">#&gt; x &lt;- c(1, 5, 3, 4, 2)</span></span>
<span><span class="co">#&gt; y &lt;- c(0, 2, 4, 6, 8)</span></span>
<span><span class="co">#&gt; ```</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Conduct the t-test for the difference between the means of `x` and `y` at a significant level of $\alpha = 0.01$.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Select the correct answer.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ## Answers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - [ ] The t-statistic is 4.24 and the null hypothesis is rejected</span></span>
<span><span class="co">#&gt; - [ ] The t-statistic is 4.24 and the null hypothesis is not rejected</span></span>
<span><span class="co">#&gt; - [ ] The t-statistic is -0.63 and the null hypothesis is not rejected</span></span>
<span><span class="co">#&gt; - [x] The t-statistic is -0.63 and the null hypothesis is rejected</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [x] = correct answer</span></span>
<span><span class="co">#&gt; [p] = partial credit given</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="dynamic-ryaml-example">Dynamic RYaml Example<a class="anchor" aria-label="anchor" href="#dynamic-ryaml-example"></a>
</h4>
<p>You can also use R code to generate parts of your YAML. The following
code is identical in its output to the previous example, but uses R code
to create the answers as a list before outputting them as YAML:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="at">```{r, data, echo = FALSE}</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="at">x &lt;- c(1, 5, 3, 4, 2)</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="at">y &lt;- c(0, 2, 4, 6, 8)</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="at">```</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="at">```{r, results, echo = FALSE}</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="at">t_result &lt;- t.test(x, y)</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="at">t_result_single &lt;- t.test(x)</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="at">answers &lt;- list(</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="at">  list(</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="at">    text = sprintf('The t-statistic is %.2f and the null hypothesis is not rejected', t_result$statistic),</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="at">    correct = t_result$p.value &lt; 0.01</span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="at">  ),</span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="at">  list(</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="at">    text = sprintf('The t-statistic is %.2f and the null hypothesis is rejected', t_result$statistic),</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="at">    correct = t_result$p.value &gt;= 0.01</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="at">  ),</span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="at">  list(</span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a><span class="at">    text = sprintf('The t-statistic is %.2f and the null hypothesis is not rejected', t_result_single$statistic),</span></span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="at">    correct = FALSE</span></span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="at">  ),</span></span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a><span class="at">  list(</span></span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a><span class="at">    text = sprintf('The t-statistic is %.2f and the null hypothesis is rejected', t_result_single$statistic),</span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a><span class="at">    correct = FALSE</span></span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a><span class="at">  )</span></span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a><span class="at">)</span></span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a><span class="at">```</span></span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> T-test results</span></span>
<span id="cb14-31"><a href="#cb14-31" tabindex="-1"></a><span class="fu">question_type</span><span class="kw">:</span><span class="at"> multiple_choice</span></span>
<span id="cb14-32"><a href="#cb14-32" tabindex="-1"></a><span class="fu">question_text</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb14-33"><a href="#cb14-33" tabindex="-1"></a>  Suppose you are given the following data:</span>
<span id="cb14-34"><a href="#cb14-34" tabindex="-1"></a></span>
<span id="cb14-35"><a href="#cb14-35" tabindex="-1"></a>  ```{r}</span>
<span id="cb14-36"><a href="#cb14-36" tabindex="-1"></a>  &lt;&lt;data&gt;&gt;</span>
<span id="cb14-37"><a href="#cb14-37" tabindex="-1"></a>  ```</span>
<span id="cb14-38"><a href="#cb14-38" tabindex="-1"></a></span>
<span id="cb14-39"><a href="#cb14-39" tabindex="-1"></a>  Conduct the t-test for the difference between the means of `x` and `y` at a significant level of $\alpha = 0.01$.</span>
<span id="cb14-40"><a href="#cb14-40" tabindex="-1"></a></span>
<span id="cb14-41"><a href="#cb14-41" tabindex="-1"></a>  Select the correct answer.</span>
<span id="cb14-42"><a href="#cb14-42" tabindex="-1"></a><span class="fu">random_order</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb14-43"><a href="#cb14-43" tabindex="-1"></a><span class="fu">answers</span><span class="kw">:</span></span>
<span id="cb14-44"><a href="#cb14-44" tabindex="-1"></a><span class="at">  ```{r, answers, render = yaml_print, echo = FALSE, results = 'asis'}</span></span>
<span id="cb14-45"><a href="#cb14-45" tabindex="-1"></a><span class="at">  answers</span></span>
<span id="cb14-46"><a href="#cb14-46" tabindex="-1"></a><span class="at">  ```</span></span></code></pre></div>
<p>Notice how the code block with <code>render = yaml_print</code> is
indented to match the surrounding YAML. What this does is formats any R
objects that are printed in the code block as YAML, and Rmarkdown
ensures they have the same indentation of the block. Thus, this renders
to valid YAML. You can also output YAML yourself as a string in the code
block if you want to.</p>
</div>
<div class="section level4">
<h4 id="multiple-questions-in-a-single-file">Multiple questions in a single file<a class="anchor" aria-label="anchor" href="#multiple-questions-in-a-single-file"></a>
</h4>
<p>Just as for yaml, if you separate questions with <code>---</code>,
you can read them in as a list of questions. This can be useful if you
want slight variations on the same question using the same R code.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="importing-pools-and-tests-from-blackboard">Importing pools and tests from Blackboard<a class="anchor" aria-label="anchor" href="#importing-pools-and-tests-from-blackboard"></a>
</h2>
<p>In <code>r2bb</code>, you can also import pools and tests from
Blackboard by passing the path to the ZIP file to the
<code>from_bbxml_package</code> function. Here is an example of
importing a pool:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pool</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/from_bbxml_package.html">from_bbxml_package</a></span><span class="op">(</span><span class="st">"stats-pool.zip"</span><span class="op">)</span></span></code></pre></div>
<p>The same method works for tests as well. This function by default
attempts to convert the HTML in the questions to Markdown using Pandoc.
You can disable this by setting
<code>convert_html_to_markdown = FALSE</code>.</p>
<p>Please note that this functionality (importing from Blackboard) is
the most experimental and unreliable part of this package. It has worked
okay for me (the package maintainer) once or twice, but I would
double-check very carefully its output.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Bertolacci.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
